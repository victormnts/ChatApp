@model List<UtilitiesChat.Models.WS.MessagesResponse>
@{
    ViewBag.Title = "Chat";
    UtilitiesChat.Models.WS.UserResponse oUserSession = (UtilitiesChat.Models.WS.UserResponse)Session["User"];
}

<h2>@ViewBag.Title</h2>

<div class="row">
    <div class="col-md-12">
        <b>Mensajes de los usuarios de la sala</b>
        <div style="height:75vh; border:1px solid #000; border-radius:10px" id="AllMessages">
            @foreach(var oMessage in Model)
            {
                string classRight = "";
                if(oUserSession.Id==oMessage.IdUser)
                {
                    classRight = "messageRight";
                }
                <div>
                    <div class="message @classRight">
                        <b>@oMessage.UserName</b><br />
                        <div>@oMessage.Message</div>
                        <div style="text-align:right; font-size:11px;">
                            @oMessage.DateCreated.ToString()
                        </div>
                    </div>
                    <div class="clearfix"></div>
                </div>
            }
        </div>
        <div style="height:5vh">
            <input type="text" value="" id="txtMessage" style="width:90%;"/>
            <input type="submit" value="Enviar"class="btn btn-success"/ >
        </div>
    </div>
</div>

